<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>学分查询</title>
    <!-- 引入Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#1E40AF',
                        success: '#10B981',
                        warning: '#F59E0B',
                        danger: '#EF4444'
                    },
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- 页面标题 -->
        <header class="text-center mb-8">
            <h1 class="text-2xl md:text-3xl font-bold text-gray-800">
                <i class="fa fa-graduation-cap text-primary mr-2"></i>学分查询系统
            </h1>
            <p class="text-gray-600 mt-1">查询个人学分完成情况</p>
        </header>
        
        <!-- 查询区域 -->
        <div class="bg-white p-5 rounded-lg shadow-sm mb-6">
            <div class="flex flex-col md:flex-row gap-4">
                <div class="flex-1">
                    <label class="block text-sm text-gray-600 mb-1">学号</label>
                    <input 
                        type="text" 
                        id="studentId" 
                        placeholder="请输入学号" 
                        class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary"
                    >
                </div>
                <div class="flex-1">
                    <label class="block text-sm text-gray-600 mb-1">姓名</label>
                    <input 
                        type="text" 
                        id="studentName" 
                        placeholder="请输入姓名" 
                        class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary"
                    >
                </div>
                <div class="flex items-end">
                    <button 
                        id="queryBtn" 
                        class="w-full md:w-auto bg-primary text-white px-6 py-2 rounded hover:bg-primary/90 transition-colors"
                    >
                        <i class="fa fa-search mr-1"></i>查询
                    </button>
                </div>
            </div>
        </div>
        
        <!-- 结果区域 -->
        <div id="results">
            <!-- 初始提示 -->
            <div id="initial" class="text-center py-12 text-gray-500">
                <i class="fa fa-file-text-o fa-2x mb-3 opacity-50"></i>
                <p>请输入学号和姓名查询学分信息</p>
            </div>
            
            <!-- 加载状态 -->
            <div id="loading" class="hidden text-center py-12">
                <i class="fa fa-spinner fa-spin text-primary"></i>
                <p class="mt-2 text-gray-600">查询中...</p>
            </div>
            
            <!-- 无结果状态 -->
            <div id="noResults" class="hidden text-center py-12 bg-white rounded-lg p-4">
                <i class="fa fa-exclamation-circle text-warning text-xl"></i>
                <p class="mt-2 text-gray-600">未找到相关学生信息，请检查输入</p>
            </div>
            
            <!-- 学分信息展示 -->
            <div id="creditInfo" class="hidden space-y-6">
                <!-- 学生基本信息 -->
                <div class="bg-white p-5 rounded-lg shadow-sm">
                    <h2 class="text-lg font-semibold text-gray-800 mb-4">学生基本信息</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
                        <div>
                            <span class="text-gray-500">姓名：</span>
                            <span id="infoName" class="font-medium"></span>
                        </div>
                        <div>
                            <span class="text-gray-500">学号：</span>
                            <span id="infoId" class="font-medium"></span>
                        </div>
                        <div>
                            <span class="text-gray-500">学院：</span>
                            <span id="infoCollege" class="font-medium"></span>
                        </div>
                        <div>
                            <span class="text-gray-500">专业：</span>
                            <span id="infoMajor" class="font-medium"></span>
                        </div>
                        <div>
                            <span class="text-gray-500">年级：</span>
                            <span id="infoGrade" class="font-medium"></span>
                        </div>
                        <div>
                            <span class="text-gray-500">当前学期：</span>
                            <span id="infoSemester" class="font-medium"></span>
                        </div>
                    </div>
                </div>
                
                <!-- 学分统计 -->
                <div class="bg-white p-5 rounded-lg shadow-sm">
                    <h2 class="text-lg font-semibold text-gray-800 mb-4">学分统计</h2>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                        <div class="p-3 bg-blue-50 rounded">
                            <p class="text-sm text-gray-500">已修学分</p>
                            <p id="completedCredits" class="text-2xl font-bold text-primary mt-1"></p>
                        </div>
                        <div class="p-3 bg-yellow-50 rounded">
                            <p class="text-sm text-gray-500">未修学分</p>
                            <p id="remainingCredits" class="text-2xl font-bold text-warning mt-1"></p>
                        </div>
                        <div class="p-3 bg-green-50 rounded">
                            <p class="text-sm text-gray-500">总需修学分</p>
                            <p id="totalRequiredCredits" class="text-2xl font-bold text-success mt-1"></p>
                        </div>
                        <div class="p-3 bg-purple-50 rounded">
                            <p class="text-sm text-gray-500">完成进度</p>
                            <p id="creditProgress" class="text-2xl font-bold text-purple-600 mt-1"></p>
                        </div>
                    </div>
                    
                    <!-- 进度条 -->
                    <div class="mt-5">
                        <div class="flex justify-between text-sm mb-1">
                            <span class="text-gray-600">学分完成进度</span>
                            <span id="progressPercentage" class="font-medium"></span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2.5">
                            <div id="progressBar" class="bg-primary h-2.5 rounded-full" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
                
                <!-- 各类别学分详情 -->
                <div class="bg-white p-5 rounded-lg shadow-sm">
                    <h2 class="text-lg font-semibold text-gray-800 mb-4">各类别学分详情</h2>
                    <div class="overflow-x-auto">
                        <table class="min-w-full">
                            <thead>
                                <tr class="bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    <th class="px-3 py-2">课程类别</th>
                                    <th class="px-3 py-2">已修学分</th>
                                    <th class="px-3 py-2">要求学分</th>
                                    <th class="px-3 py-2">状态</th>
                                </tr>
                            </thead>
                            <tbody id="creditDetails" class="bg-white divide-y divide-gray-200 text-sm">
                                <!-- 学分详情将通过JS动态生成 -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 模拟学生学分数据
        const studentData = {
            id: "2020100123",
            name: "张三",
            college: "计算机学院",
            major: "计算机科学与技术",
            grade: "2020级",
            semester: "2023-2024学年 第一学期",
            totalRequired: 150,
            completed: 98,
            categories: [
                { type: "公共基础课", completed: 30, required: 35, status: "warning" },
                { type: "专业基础课", completed: 28, required: 30, status: "warning" },
                { type: "专业核心课", completed: 22, required: 25, status: "warning" },
                { type: "选修课", completed: 12, required: 30, status: "danger" },
                { type: "实践教学", completed: 6, required: 10, status: "danger" },
                { type: "综合素质", completed: 0, required: 10, status: "danger" }
            ]
        };

        // DOM元素
        const studentIdInput = document.getElementById('studentId');
        const studentNameInput = document.getElementById('studentName');
        const queryBtn = document.getElementById('queryBtn');
        const initial = document.getElementById('initial');
        const loading = document.getElementById('loading');
        const noResults = document.getElementById('noResults');
        const creditInfo = document.getElementById('creditInfo');

        // 状态文本和样式映射
        const statusConfig = {
            success: { text: "已完成", class: "text-success bg-green-50 px-2 py-0.5 rounded-full text-xs" },
            warning: { text: "待完成", class: "text-warning bg-yellow-50 px-2 py-0.5 rounded-full text-xs" },
            danger: { text: "差距较大", class: "text-danger bg-red-50 px-2 py-0.5 rounded-full text-xs" }
        };

        // 查询学分信息
        function queryCredits() {
            const studentId = studentIdInput.value.trim();
            const studentName = studentNameInput.value.trim();
            
            // 简单验证
            if (!studentId || !studentName) {
                alert("请输入学号和姓名");
                return;
            }
            
            // 显示加载状态
            initial.classList.add('hidden');
            noResults.classList.add('hidden');
            creditInfo.classList.add('hidden');
            loading.classList.remove('hidden');
            
            // 模拟网络请求
            setTimeout(() => {
                // 简单判断，实际应用中应与后端验证
                if (studentId === studentData.id || studentName === studentData.name) {
                    // 显示学分信息
                    displayCreditInfo(studentData);
                    creditInfo.classList.remove('hidden');
                } else {
                    // 未找到结果
                    noResults.classList.remove('hidden');
                }
                
                loading.classList.add('hidden');
            }, 800);
        }

        // 显示学分信息
        function displayCreditInfo(data) {
            // 填充基本信息
            document.getElementById('infoName').textContent = data.name;
            document.getElementById('infoId').textContent = data.id;
            document.getElementById('infoCollege').textContent = data.college;
            document.getElementById('infoMajor').textContent = data.major;
            document.getElementById('infoGrade').textContent = data.grade;
            document.getElementById('infoSemester').textContent = data.semester;
            
            // 填充学分统计
            const remaining = data.totalRequired - data.completed;
            const progress = Math.round((data.completed / data.totalRequired) * 100);
            
            document.getElementById('completedCredits').textContent = data.completed;
            document.getElementById('remainingCredits').textContent = remaining;
            document.getElementById('totalRequiredCredits').textContent = data.totalRequired;
            document.getElementById('creditProgress').textContent = `${progress}%`;
            document.getElementById('progressPercentage').textContent = `${progress}%`;
            document.getElementById('progressBar').style.width = `${progress}%`;
            
            // 填充学分详情表格
            const detailsContainer = document.getElementById('creditDetails');
            detailsContainer.innerHTML = '';
            
            data.categories.forEach(category => {
                const row = document.createElement('tr');
                row.className = "hover:bg-gray-50";
                
                const status = statusConfig[category.status];
                
                row.innerHTML = `
                    <td class="px-3 py-2">${category.type}</td>
                    <td class="px-3 py-2">${category.completed}</td>
                    <td class="px-3 py-2">${category.required}</td>
                    <td class="px-3 py-2"><span class="${status.class}">${status.text}</span></td>
                `;
                
                detailsContainer.appendChild(row);
            });
        }

        // 事件监听
        queryBtn.addEventListener('click', queryCredits);
        
        // 回车查询
        [studentIdInput, studentNameInput].forEach(input => {
            input.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') queryCredits();
            });
        });
    </script>
</body>
</html>
    